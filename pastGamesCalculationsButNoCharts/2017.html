<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>
<script setup>
    //this is steamworks
    //if the number of points from boiler exceeds 40, get rnkpnt
    //getting enough gears to get all rotors moving is a rnk pnt
//Assumptions: We will always engage. We will score for high, then mid, then low, but because we never will get to the low grid, we don't have to account for it
let balancingtime = [3, 5, 7];//it can take either 3 seconds, 5 seconds, or 7 seconds
let pointsforbalancing = [0, 50];//auton and teleop
let placetime = [2, 8];
let pointsforhigh = [1, 1/3];//auton and teleop
let pointsformid = [1/3, 1/9];
let autonpickup = [2, 4];
let gearplacetime=[2,8]
let autonmovepartofcycle = [4,6];
let movepartofcycle =  [7, 9, 11];
const autonPieceLimit = infinity;
const gearpoints=[60,40];
const pointsformobility = 5;
const scenariospoints=new Array(balancingtime.length).fill(new Array(placetime.length).fill(new Array(autonpickup.length).fill(new Array(autonmovepartofcycle.length).fill(new Array(movepartofcycle.length).fill(new Array(0))))));//for chart
const rnkValues=[];

//create a scenario tree
for (let i in balancingtime) {
    for (let j in placetime) {
        for (let k in autonpickup) {
            for (let l in autonmovepartofcycle) {
                for (let m in movepartofcycle) {
                    for (let n in gearplacetime)
//initialize the variables
let nodesscored=0;
let autonPCCount = 0;
let holdingpiece=10;//start w/ holding one piece
let holdingpiece1=1;//the gear 
//auton balance
let points=pointsformobility;
let time=150;
scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});

//place pieces during auton
while (time - placetime[j] >= 135 && autonPCCount < autonPieceLimit) {
    
	if (nodesscored <10){
        nodesscored+=holdingpiece1;
        //switch case stuff w/ points+=pointsforgear[0]
        autonPCCount+=holdingpiece;
        holdingpiece1 = 0;
        time -= gearplacetime[n];
    }
    else{
        nodesscored+=holdingpiece;
        points+=pointsforhigh[0]*holdingpiece;
        autonPCCount+=holdingpiece;
        holdingpiece = 0;
        time -= placetime[j];
    }
    
	scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});
    if (time - autonmovepartofcycle[l]/2 - autonpickup[k] >= 135) {//the autonmovepartofcycle[l] is divided by two b/c the robot only travels to pick up the cones, not also back 
        time -= autonmovepartofcycle[l]/2 + autonpickup[k];
        ++holdingpiece1;
        if(time-autonmovepartofcycle[l]/2-gearplacetime[n]>=135){time-=autonmovepartofcycle[l]/2;}
        else{time=135;}
        
    }
}
//humans (or at least another program) needs to check if time for boiler during auton but not time for gear and see if its worth it, or maybe we need the boiler to get another ranking point
//endgame
time = 135 - balancingtime[i];
points += pointsforbalancing[1];
scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});
//teleop
// if holding pieces at beginning of teleop
if (holdingpiece0>0) {
   
	if (nodesscored <10){
        nodesscored+=holdingpiece1;
        //switch case stuff w/ points+=pointsforgear[1]
        autonPCCount+=holdingpiece;
        holdingpiece1 = 0;
        time -= gearplacetime[n];
    }
    scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});
}
//do all the gears:
while (time-movepartofcycle[l]-gearplacetime[n]>=0&&nodesscored<9) {
    ++nodesscored;
    time-=gearplacetime[n]+movepartofcycle[l]+autonpickup[k];
    //the switch statement
    scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});
}
//if holding any fuel at the begginging of teleop
if (holdingpiece>0) {
   
   if (nodesscored>9){
       nodesscored+=holdingpiece;
       points+=pointsforgear[1]*hodingpiece;
       autonPCCount+=holdingpiece;
       holdingpiece0 = 0;
       time -= placetime[j];
   }
   scenariospoints[i][j][k][l][m][n].push({x: 150-time, y: points});
}
//score high
while (time-movepartofcycle[l]-placetime[j]>=0) {
    nodesscored+=holdingpiece;
       points+=pointsforgear[1]*hodingpiece;
       autonPCCount+=holdingpiece;
       holdingpiece0 = 0;
       time -= placetime[j];
}
if (Math.floor(nodesscored-10) >= 40) {rnkValues.push({x:x,y:1})}
else{rnkValues.push({x:x,y:0})}
                }
            }
        }
    }
}
</script>

</body>
</html>